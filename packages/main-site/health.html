<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployment Health Check</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 40px;
            background: #1a1a1a;
            color: #fff;
        }
        .health-check {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        .status-ok { color: #4ade80; }
        .status-error { color: #f87171; }
        .status-warning { color: #facc15; }
        .timestamp { font-size: 0.9em; opacity: 0.7; }
    </style>
</head>
<body>
    <h1>üè• Deployment Health Check</h1>

    <div class="health-check">
        <h3>System Status</h3>
        <div id="status">Loading...</div>
        <div class="timestamp" id="timestamp"></div>
    </div>

    <div class="health-check">
        <h3>Recent Changes</h3>
        <ul>
            <li class="status-ok">‚úÖ Test modal button removed from tractor page</li>
            <li class="status-ok">‚úÖ Eden Game button links to correct page</li>
            <li class="status-ok">‚úÖ GlowingNetwork image overflow fixed</li>
            <li class="status-ok">‚úÖ Proper GitHub Pages deployment workflow</li>
        </ul>
    </div>

    <div class="health-check">
        <h3>Deployment Info</h3>
        <ul>
            <li><strong>Site URL:</strong> <a href="https://syncengine.earth" target="_blank">https://syncengine.earth</a></li>
            <li><strong>Repository:</strong> <a href="https://github.com/trumanellis/syncengine-static" target="_blank">trumanellis/syncengine-static</a></li>
            <li><strong>Deployment:</strong> GitHub Pages</li>
            <li><strong>CDN:</strong> GitHub Global CDN</li>
        </ul>
    </div>

    <script>
        // Set current timestamp
        document.getElementById('timestamp').textContent = `Last checked: ${new Date().toLocaleString()}`;

        // Perform health checks
        async function runHealthChecks() {
            const statusEl = document.getElementById('status');
            const checks = [];

            // Check if we can reach the main page
            try {
                const response = await fetch('/', { method: 'HEAD' });
                checks.push({
                    name: 'Main page accessibility',
                    status: response.ok ? 'ok' : 'error',
                    message: response.ok ? 'Accessible' : `HTTP ${response.status}`
                });
            } catch (error) {
                checks.push({
                    name: 'Main page accessibility',
                    status: 'error',
                    message: error.message
                });
            }

            // Check if specific pages exist
            const pages = ['eden-game.html', 'tractor.html', 'agua-lila.html'];
            for (const page of pages) {
                try {
                    const response = await fetch(page, { method: 'HEAD' });
                    checks.push({
                        name: `${page} availability`,
                        status: response.ok ? 'ok' : 'warning',
                        message: response.ok ? 'Available' : `HTTP ${response.status}`
                    });
                } catch (error) {
                    checks.push({
                        name: `${page} availability`,
                        status: 'error',
                        message: 'Not reachable'
                    });
                }
            }

            // Display results
            statusEl.innerHTML = checks.map(check => {
                const statusClass = check.status === 'ok' ? 'status-ok' :
                                  check.status === 'warning' ? 'status-warning' : 'status-error';
                const icon = check.status === 'ok' ? '‚úÖ' :
                           check.status === 'warning' ? '‚ö†Ô∏è' : '‚ùå';
                return `<div class="${statusClass}">${icon} ${check.name}: ${check.message}</div>`;
            }).join('');
        }

        runHealthChecks();
    </script>
</body>
</html>